<?xml version="1.0" encoding="utf-8"?>
<odoo>

    account.
    <record id="view_move_line_form_month" model="ir.ui.view">
        <field name="name">view.move.line.form.month</field>
        <field name="model">account.move.line</field>
        <field name="inherit_id" ref="account.view_move_line_form"/>
        <field name="arch" type="xml">
            <field name="statement_id" position="after">
                <field name="fatturapa_pm_id"/>
            </field>
        </field>
    </record>

    <record id="view_payment_term_line_tree_month" model="ir.ui.view">
        <field name="name">account.payment.term.line.tree.month</field>
        <field name="model">account.payment.term.line</field>
        <field name="inherit_id" ref="account.view_payment_term_line_tree"/>
        <field name="arch" type="xml">
            <field name="days" position="after">
                <field name="months"/>
                <field name="weeks"/>
            </field>
            <field name="value_amount" position="after">
                <field name="fatturapa_pm_id"/>
            </field>
        </field>
    </record>

    <record id="view_payment_term_line_form_month" model="ir.ui.view">
        <field name="name">account.payment.term.line.form.month</field>
        <field name="model">account.payment.term.line</field>
        <field name="inherit_id" ref="account.view_payment_term_line_form"/>
        <field name="arch" type="xml">
            <xpath expr="/form/group/group[2]"  position="replace">
                <group string="Due Date Computation">
                    <field name="days" attrs="{'invisible': [('option', 'in', ['last_day_following_month', 'last_day_current_month'])],
                    'required':[('months', '=', False), ('weeks', '=', False)]}"/>
                    <field name="weeks" attrs="{'invisible': [('option', 'in', ['last_day_following_month', 'last_day_current_month'])],
                    'required':[('days', '=', False), ('months', '=', False)]}"/>
                    <field name="months" attrs="{'invisible': [('option', 'in', ['last_day_following_month', 'last_day_current_month'])],
                    'required':[('days', '=', False), ('weeks', '=', False)]}"/>
                    <field name="option" widget="radio"/>
                </group>
            </xpath>
            <field name="value" position="after">
                <field name="fatturapa_pm_id"/>
            </field>
        </field>
    </record>

    <record id="view_payment_term_month_tree" model="ir.ui.view">
        <field name="name">account.payment.term.month.tree</field>
        <field name="model">account.payment.term.month</field>
        <field name="arch" type="xml">
            <tree>
                <field name="month"/>
                <field name="min_day"/>
                <field name="days"/>
            </tree>
        </field>
    </record>

    <record id="view_payment_term_form" model="ir.ui.view">
        <field name="name">account.payment.term.form.months</field>
        <field name="model">account.payment.term</field>
        <field name="inherit_id" ref="account.view_payment_term_form"/>
        <field name="arch" type="xml">
            <field name="line_ids" position="after">
                <separator string="Excluded Months"/>
                <p class="text-muted">
                    When a payment term coincides with this months, it is postponed to the chosen date.
                </p>
                <field name="payment_month_ids">
                    <tree editable="top">
                        <field name="month"/>
                        <field name="min_day"/>
                        <field name="days"/>
                    </tree>
                </field>
            </field>
        </field>
    </record>

</odoo>
