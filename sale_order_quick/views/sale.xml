<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_order_form" model="ir.ui.view">
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='order_lines']" position="after">
                <page string="Order Line Quick" name="order_lines_quick">
                    <field name="order_line_quick_ids">
                        <tree editable="bottom" string="Sale Order Line Quick">
                            <control>
                                <create string="Add a product"/>
                                <create string="Configure a product" context="{'open_product_configurator': True}" groups="product.group_product_variant"/>
                                <create string="Add a section" context="{'default_display_type': 'line_section'}"/>
                                <create string="Add a note" context="{'default_display_type': 'line_note'}"/>
                            </control>
                            <field name="sequence" widget="handle"/>
                            <field name="display_type" invisible="1"/>
                            <field
                                name="product_id"
                                attrs="{
                                    'required': [('display_type', '=', False)],
                                }"
                                options="{'no_quick_create': True}"
                                force_save="1"
                                context="{
                                    'partner_id': parent.partner_id,
                                    'quantity': product_uom_qty,
                                    'pricelist': parent.pricelist_id,
                                    'uom':product_uom,
                                    'company_id': parent.company_id,
                                    'default_description_sale': name
                                }"
                            />
                            <field name="name" widget="section_and_note_text"/>
                            <field
                                name="product_uom_qty"
                                string="Ordered Qty"
                                context="{
                                    'partner_id': parent.partner_id,
                                    'quantity': product_uom_qty,
                                    'pricelist': parent.pricelist_id,
                                    'uom': product_uom,
                                    'company_id': parent.company_id
                                }"
                            />
                            <field
                                name="product_uom"
                                force_save="1"
                                attrs="{
                                    'required': [('display_type', '=', False)],
                                }"
                                context="{'company_id': parent.company_id}"
                                groups="uom.group_uom"
                                options='{"no_open": True}'
                            />
                        </tree>
                    </field>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
