===============================
Product Supplierinfo Management
===============================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-sergiocorato%2Fe--efatto-lightgray.png?logo=github
    :target: https://github.com/sergiocorato/e-efatto/tree/12.0/product_supplierinfo_management
    :alt: sergiocorato/e-efatto

|badge1| |badge2| |badge3| 

Compute replenishment cost from supplierinfo price.

**Table of contents**

.. contents::
   :local:

Configuration
=============

Questo modulo mette a disposizione delle funzionalità per verificare l'attendibilità dei prezzi di acquisto dei prodotti e per aggiornare il costo o il costo di sostituzione in base a questi prezzi.

.. image:: https://raw.githubusercontent.com/sergiocorato/e-efatto/12.0/product_supplierinfo_management/static/description/abilita-listino.png
    :alt: Abilita listino

Il menu creato dal modulo mette a disposizione quattro azioni:

.. image:: https://raw.githubusercontent.com/sergiocorato/e-efatto/12.0/product_supplierinfo_management/static/description/menu.png
    :alt: Menu in impostazioni Magazzino

La prima esegue il solo controllo dei prezzi:

.. image:: https://raw.githubusercontent.com/sergiocorato/e-efatto/12.0/product_supplierinfo_management/static/description/controllo.png
    :alt: Controllo prezzi

La seconda esegue l'aggiornamento del costo:

.. image:: https://raw.githubusercontent.com/sergiocorato/e-efatto/12.0/product_supplierinfo_management/static/description/aggiorna_costo.png
    :alt: Aggiorna il costo

La terza esegue l'aggiornamento del costo di sostituzione:

.. image:: https://raw.githubusercontent.com/sergiocorato/e-efatto/12.0/product_supplierinfo_management/static/description/aggiorna_sostituzione.png
    :alt: Aggiorna il costo di sostituzione

N.B.: Non è possibile ripristinare questa operazione, per cui il campo costo da ora in poi sarà questo. Tenere conto in ogni caso che questo campo potrebbe essere modificato in maniera automatica dal sistema in base alla configurazione.

La quarta copia il costo di sostituzione sul costo del prodotto:

.. image:: https://raw.githubusercontent.com/sergiocorato/e-efatto/12.0/product_supplierinfo_management/static/description/copia.png
    :alt: Copia

N.B.: Nel caso sia installato il modulo https://github.com/sergiocorato/e-efatto/tree/12.0/product_pricelist_replenishment_cost è possibile impostare i listini di vendita sulla base del costo di sostituzione, su cui sarà calcolato il margine di vendita, senza andare a toccare il costo del prodotto.

Dettaglio del funzionamento
===========================

Premesse
~~~~~~~~

#. i prodotti vengono considerati solo se hanno un fornitore
#. i prodotti vengono considerati solo se sono acquistabili
#. la presenza o meno di una distinta di produzione non viene considerata
#. il nuovo costo/costo gestito viene calcolato tramite il listino collegato, in cui è possibile indicare solo la percentuale di sconto e arrotondamento

Processo di creazione del nuovo costo
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Viene cercato il primo fornitore con data di validità in corso e prezzo diverso da zero. Se non viene trovato alcun fornitore:

  #. se il prodotto non ha né un ultimo acquisto né un'ultima fattura: il nuovo costo viene calcolato dal costo del prodotto con la regola del listino selezionato
  #. in caso contrario il processo termina e passa al prodotto successivo (l'ultimo costo d'acquisto o l'ultimo costo in fattura quindi non vengono utilizzati)
  #. (i prodotti con il nuovo costo pari a zero vengono mostrati in "Prodotti a costo calcolato zero senza acquisto né fattura")
  #. (i prodotti vengono mostrati in 'Prodotti senza fornitore')

Altrimenti, se viene trovato almeno un fornitore valido con prezzo diverso da zero:

  #. viene selezionato solo il primo fornitore valido
  #. se è indicata la Data Obsolescenza Prezzi Fornitori, i prodotti con la data di ultima modifica del prezzo di questo fornitore precedente alla data indicata vengono mostrati nei 'Prodotti con prezzo fornitore obsoleto'

Di questi prodotti:

se il prodotto ha un ultimo acquisto ed è più recente dell'ultimo prezzo fornitore:

    #. se l'ultimo fornitore è diverso dal fornitore valido, viene mostrato in 'Prodotti con fornitore non coincidente';
    #. se l'ultimo acquisto è uguale all'ultimo prezzo fornitore, il processo termina e passa al prodotto successivo
    #. se è diverso, viene calcolato il nuovo costo dal costo dell'ultimo acquisto con la regola del listino selezionato (se il nuovo costo è pari a zero il prodotto viene mostrato in "Prodotti a costo calcolato zero con acquisto")

altrimenti, se il prodotto ha un'ultima fattura ed è più recente dell'ultimo prezzo fornitore:

    #. se l'ultima fattura è di un fornitore diverso dal fornitore valido, viene mostrato in 'Prodotti con fornitore non coincidente';
    #. se l'ultimo acquisto da fattura è uguale all'ultimo prezzo fornitore, il processo termina e passa al prodotto successivo
    #. se è diverso, viene calcolato il nuovo costo dal costo dell'ultima fattura con la regola del listino selezionato (se il nuovo costo è pari a zero il prodotto viene mostrato in "Prodotti a costo calcolato zero con fattura")

altrimenti viene calcolato il nuovo costo dal costo del fornitore valido (se il nuovo costo è pari a zero il prodotto viene mostrato in "Prodotti a costo calcolato zero con acquisto o fattura più vecchi")

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/sergiocorato/e-efatto/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/sergiocorato/e-efatto/issues/new?body=module:%20product_supplierinfo_management%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Sergio Corato

Contributors
~~~~~~~~~~~~

* Sergio Corato <https://github.com/sergiocorato>

Maintainers
~~~~~~~~~~~

This module is part of the `sergiocorato/e-efatto <https://github.com/sergiocorato/e-efatto/tree/12.0/product_supplierinfo_management>`_ project on GitHub.

You are welcome to contribute.
